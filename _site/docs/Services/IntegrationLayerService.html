<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Integration Layer Service - Open Integration Hub</title> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Integration Layer Service | Open Integration Hub</title> <meta name="generator" content="Jekyll v4.1.1" /> <meta property="og:title" content="Integration Layer Service" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Open Source Integration Framework" /> <meta property="og:description" content="Open Source Integration Framework" /> <link rel="canonical" href="http://localhost:4000/docs/Services/IntegrationLayerService.html" /> <meta property="og:url" content="http://localhost:4000/docs/Services/IntegrationLayerService.html" /> <meta property="og:site_name" content="Open Integration Hub" /> <script type="application/ld+json"> {"headline":"Integration Layer Service","description":"Open Source Integration Framework","@type":"WebPage","url":"http://localhost:4000/docs/Services/IntegrationLayerService.html","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> Open Integration Hub </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Getting%20Started/GettingStarted.html" class="nav-list-link">Getting Started</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/Getting%20Started/LocalInstallationGuide.html" class="nav-list-link">Local Installation</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Getting%20Started/GCPInstallationGuide.html" class="nav-list-link">GCP Installation</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Services/Services.html" class="nav-list-link">Services</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/AttachmentStorageService.html" class="nav-list-link">Attachment Storage Service</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/AuditLog.html" class="nav-list-link">Audit Log</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/ComponentOrchestrator.html" class="nav-list-link">Component Orchestrator</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/ComponentRepository.html" class="nav-list-link">Component Repository</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/ConflictManagement.html" class="nav-list-link">Conflict Management</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/DataHub.html" class="nav-list-link">Data Hub</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/DispatcherService.html" class="nav-list-link">Dispatcher Service</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/FlowRepository.html" class="nav-list-link">Flow Repository</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/IdentityManagement.html" class="nav-list-link">Identity and Access Management</a></li><li class="nav-list-item active"><a href="http://localhost:4000/docs/Services/IntegrationLayerService.html" class="nav-list-link active">Integration Layer Service</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/LoggingService.html" class="nav-list-link">Logging Service</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/MessageOrientedMiddleware.html" class="nav-list-link">Message Oriented Middleware</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/MetaDataRepository.html" class="nav-list-link">Meta Data Repository</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/Scheduler.html" class="nav-list-link">Scheduler</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/SecretService.html" class="nav-list-link">Secret Service</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/SnapshotsService.html" class="nav-list-link">Snapshots Service</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/Webhooks.html" class="nav-list-link">Webhooks</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Service%20Collaboration/ServiceCollaborationOverview.html" class="nav-list-link">Service Collaboration</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/Service%20Collaboration/serviceEvents.html" class="nav-list-link">Service Events</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Service%20Collaboration/updatePropagation.html" class="nav-list-link">Update Propagation</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/docs/API%20Reference/APIReferenceOverview.html" class="nav-list-link">API Reference Documentation</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Connectors/ConnectorBasics.html" class="nav-list-link">Connectors</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/Connectors/building-nodejs-component.html" class="nav-list-link">Development Example for Node.js</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Connectors/ActionsAndTriggers.html" class="nav-list-link">Actions and Triggers</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/docs/Connectors/StandardizedActionsAndTriggers.html" class="nav-list-link">Standardized Examples</a> </li></ul></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Connectors/Transformer.html" class="nav-list-link">Transformer</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Data%20Models/DataModelBasics.html" class="nav-list-link">Master Data Models</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Data%20Models/Addresses/Address%20Model.html" class="nav-list-link">Addresses</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Data%20Models/Collaboration/Collaboration%20Model.html" class="nav-list-link">Collaboration</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Data%20Models/Documents/Document%20Model.html" class="nav-list-link">Documents</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Data%20Models/Products/Products%20Model.html" class="nav-list-link">Products</a><ul class="nav-list"></ul></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/docs/Contributing/ContributionGuidelines.html" class="nav-list-link">Contribution Guidelines</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Open Integration Hub" aria-label="Search Open Integration Hub" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/openintegrationhub" class="site-button" > Open Integration Hub on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/Services/Services.html">Services</a></li> <li class="breadcrumb-nav-list-item"><span>Integration Layer Service</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <!-- Description Guidelines Please note: Use the full links to reference other files or images! Relative links will not work under our theme settings settings. --> <!-- please choose the appropriate batch and delete/comment the others --> <p><img src="https://img.shields.io/badge/Status-Production-brightgreen.svg" alt="prod" /></p> <h1 id="integration-layer-service-ils-"> <a href="#integration-layer-service-ils-" aria-labelledby="integration-layer-service-ils-" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Integration Layer Service (ILS)</strong> <!-- make sure spelling is consistent with other sources and within this document --> </h1> <h2 id="introduction"> <a href="#introduction" aria-labelledby="introduction" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction </h2> <!-- 2 sentences: what does it do and how --> <p>The Integration Layer Service receives data objects from one or several incoming flows, applies some business logic (such as a merge or split), validates them against a supplied schema, and provides the resulting valid objects as input to other flows. ILS can temporarily store these objects. Objects can be posted to the ILS through a REST-API, and be retrieved the same way.</p> <p><a href="http://ils.openintegrationhub.com/api-docs/" class="btn fs-5 mb-4 mb-md-0">API Reference</a> <a href="https://github.com/openintegrationhub/openintegrationhub/tree/master/services/ils" class="btn fs-5 mb-4 mb-md-0">Implementation</a> <!--[Service File](){: .btn .fs-5 .mb-4 .mb-md-0 }--></p> <h2 id="technologies-used"> <a href="#technologies-used" aria-labelledby="technologies-used" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Technologies used </h2> <!-- please name and elaborate on other technologies or standards the service uses --> <p><a href="https://www.mongodb.com/">MongoDB</a>: MongoDB is used as the ILS’s storage solution.</p> <h2 id="how-it-works"> <a href="#how-it-works" aria-labelledby="how-it-works" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How it works </h2> <!-- describe core functionalities and underlying concepts in more detail --> <h3 id="use-case-merging-objects"> <a href="#use-case-merging-objects" aria-labelledby="use-case-merging-objects" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Use case: Merging objects </h3> <p>A core functionality is merging of incomplete objects from separate sources until all required data has been added. For this purpose, all incoming POST requests must supply a <em>common identifier</em> (cid) by which incoming objects can be matched against each other. Each time a new object comes in, the ILS first looks up its database to check whether another object with a matching cid is already stored. If one is found, the new data is merged into the existing object. If not, the incoming object is saved as-is.</p> <p>In either case, the resulting object is then validated against a supplied definition, which includes a list of required fields. A valid object will be marked as such, and can then be retrieved by another component. If an object is invalid, it cannot be retrieved, and will instead be stored until the necessary data has been merged into it and it passes validation.</p> <h3 id="use-case-splitting-objects"> <a href="#use-case-splitting-objects" aria-labelledby="use-case-splitting-objects" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Use case: Splitting objects </h3> <p>ILS comes into play when the user would like to split an object into smaller or other objects containing properties from the main object. Let’s say that the user want to split the object containing employee’s <code class="language-plaintext highlighter-rouge">firstName</code>, <code class="language-plaintext highlighter-rouge">lastName</code>, <code class="language-plaintext highlighter-rouge">salutation</code>, <code class="language-plaintext highlighter-rouge">organization</code>, <code class="language-plaintext highlighter-rouge">email</code>, <code class="language-plaintext highlighter-rouge">street</code> and <code class="language-plaintext highlighter-rouge">streetNumber</code> into two separate objects. The first one should have the properties <code class="language-plaintext highlighter-rouge">firstName</code>, <code class="language-plaintext highlighter-rouge">lastName</code> and <code class="language-plaintext highlighter-rouge">salutation</code> ant the second one should contain the rest. In this case the user must provide <code class="language-plaintext highlighter-rouge">splitSchema</code> array containing two objects and each of them must have the properties <code class="language-plaintext highlighter-rouge">meta</code> and <code class="language-plaintext highlighter-rouge">payload</code>. Meta has the special property <code class="language-plaintext highlighter-rouge">splitKey</code> which servers as an identifier and <code class="language-plaintext highlighter-rouge">payload</code> consists of the fields which the new splitted object must contain. After successful splitting each new object should hold the <code class="language-plaintext highlighter-rouge">splitKey</code> and <code class="language-plaintext highlighter-rouge">payload</code> properties.</p> <p>On the other hand the user would like to <code class="language-plaintext highlighter-rouge">GET</code> a new/splitted object. In such a case an <code class="language-plaintext highlighter-rouge">ilaId</code> and a <code class="language-plaintext highlighter-rouge">splitKey</code> must be provided. Then ILS will return an array of all objects which have the same <code class="language-plaintext highlighter-rouge">splitKey</code>.</p> <h3 id="use-case-validating-objects"> <a href="#use-case-validating-objects" aria-labelledby="use-case-validating-objects" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Use case: Validating objects </h3> <p>ILS is able to validate an object against a certain schema. This means that the incoming object could be validated against a custom schema, which the user can provide in <code class="language-plaintext highlighter-rouge">schema</code> object or the object could be validated against a schema which is already stored in <a href="https://openintegrationhub.github.io//docs/Services/MetaDataRepository.html">Meta Data Repository</a> as well. Then the user should provide an IAM <code class="language-plaintext highlighter-rouge">token</code>, <code class="language-plaintext highlighter-rouge">domainId</code> and <code class="language-plaintext highlighter-rouge">schemaUri</code>. The last two properties could be requested from <a href="https://openintegrationhub.github.io//docs/Services/MetaDataRepository.html">Meta Data Repository</a>.</p> <h3 id="integration-layer-service-api"> <a href="#integration-layer-service-api" aria-labelledby="integration-layer-service-api" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Integration Layer Service API </h3> <p>The ILS offers a REST API through which chunks can be stored, splitted, validated and retrieved. To interact with this API, the user must supply a valid bearer token generated by the Identity Management.</p> <h3 id="list-of-supported-methods-and-routes"> <a href="#list-of-supported-methods-and-routes" aria-labelledby="list-of-supported-methods-and-routes" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> List of supported Methods and Routes </h3> <hr /> <div class="table-wrapper"><table> <thead> <tr> <th>endpoint</th> <th style="text-align: center">method</th> <th>description</th> <th>comments</th> </tr> </thead> <tbody> <tr> <td>/chunks</td> <td style="text-align: center">POST</td> <td>Stores a new chunk</td> <td>Depending on validation result, the chunk is saved with a <strong>boolean</strong> value of the property <code class="language-plaintext highlighter-rouge">valid</code></td> </tr> <tr> <td>/chunks/split</td> <td style="text-align: center">POST</td> <td>Splits a chunk</td> <td>An incoming object is splitted in other objects depending on given criteria</td> </tr> <tr> <td>/chunks/validate</td> <td style="text-align: center">POST</td> <td>Validates a chunk</td> <td>The incoming object is validated against a schema from Meta Data Repository</td> </tr> <tr> <td>/chunks/{ilaId}?key={splitKey}</td> <td style="text-align: center">GET</td> <td>Returns chunks by <code class="language-plaintext highlighter-rouge">ilaId</code> and <code class="language-plaintext highlighter-rouge">splitKey</code>.</td> <td>SplitKey is on optional parameter for fetching chunks which are splitted by the same <code class="language-plaintext highlighter-rouge">splitSchema</code></td> </tr> </tbody> </table></div> <p>These operations ought to be conducted via the ILA, but can also be targeted manually for testing and development purposes.</p> <p>For <code class="language-plaintext highlighter-rouge">POST /chunks</code>, the body format is expected to match this format:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ilaId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"def"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nl">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <ul> <li><code class="language-plaintext highlighter-rouge">ilaId</code>: Identifies which combination of flows this object belongs to. Must match among all connected flows.</li> <li><code class="language-plaintext highlighter-rouge">cid</code>: A <em>common identifier</em> designating which fields are used to match objects to one another. Must be a key within the supplied payload</li> <li><code class="language-plaintext highlighter-rouge">def</code>: The definition against which objects are validated. Currently expected to be a JSON schema.</li> <li><code class="language-plaintext highlighter-rouge">payload</code>: The actual data object, in JSON format.</li> </ul> <p>For <code class="language-plaintext highlighter-rouge">POST /chunks/split</code>, the body format should have the following format:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ilaId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nl">"splitSchema"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"splitKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <ul> <li><code class="language-plaintext highlighter-rouge">ilaId</code>: Identifies which combination of flows this object belongs to. Must match among all connected flows.</li> <li><code class="language-plaintext highlighter-rouge">payload</code>: The actual data object, in JSON format.</li> <li><code class="language-plaintext highlighter-rouge">splitSchema</code>: A schema object which could contain more then one schema. The main purpose is each schema has a meta object with an unique <code class="language-plaintext highlighter-rouge">splitKey</code>. This identifies the splitting model. In <code class="language-plaintext highlighter-rouge">payload</code> is the actual schema with all properties.</li> </ul> <p>For <code class="language-plaintext highlighter-rouge">POST /chunks/validate</code>, the body format should have the following format:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ilaId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"def"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"domainId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"schemaUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">

  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <ul> <li><code class="language-plaintext highlighter-rouge">ilaId</code>: Identifies which combination of flows this object belongs to. Must match among all connected flows.</li> <li><code class="language-plaintext highlighter-rouge">token</code>: An IAM Bearer token</li> <li><code class="language-plaintext highlighter-rouge">cid</code>: A <em>common identifier</em> designating which fields are used to match objects to one another. Must be a key within the supplied payload</li> <li><code class="language-plaintext highlighter-rouge">def</code>: The definition against which objects are validated. Currently expected to be a JSON schema.</li> <li><code class="language-plaintext highlighter-rouge">domainId</code> - A <code class="language-plaintext highlighter-rouge">domainId</code> from <a href="https://openintegrationhub.github.io//docs/Services/MetaDataRepository.html">Meta Data Repository</a></li> <li><code class="language-plaintext highlighter-rouge">schemaUri</code> - A <code class="language-plaintext highlighter-rouge">schemaUri</code> for a certain schema from <a href="https://openintegrationhub.github.io//docs/Services/MetaDataRepository.html">Meta Data Repository</a></li> <li><code class="language-plaintext highlighter-rouge">payload</code>: The actual data object, in JSON format.</li> </ul> <p>To <code class="language-plaintext highlighter-rouge">GET /chunks/${ilaId}</code>, an <code class="language-plaintext highlighter-rouge">ilaId</code> must be supplied. This will return all objects marked as valid that have been saved with this <code class="language-plaintext highlighter-rouge">ilaId</code>.</p> <p>To <code class="language-plaintext highlighter-rouge">GET /chunks/${ilaId}?key=${splitKey}</code> the user should provide the <code class="language-plaintext highlighter-rouge">ilaId</code> and <code class="language-plaintext highlighter-rouge">key</code> as a parameter for fetching objects which are splitted by a <code class="language-plaintext highlighter-rouge">splitSchema</code> with the certain <code class="language-plaintext highlighter-rouge">splitKey</code>.</p> <p>Stored objects are endowed with a Time To Live of one hour, which is refreshed every time new data is merged into them.</p> <h3 id="integration-layer-adapter-ila"> <a href="#integration-layer-adapter-ila" aria-labelledby="integration-layer-adapter-ila" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Integration Layer Adapter (ILA) </h3> <p>The ILA is a generic component used to allow flows to communicate with the ILS. In posting mode, it automatically passes on any data objects received by other flow components, and endows them with the metadata listed above. In polling mode, it will automatically fetch all valid combined objects and pass them on to other components just like any other flow component. For further information about the ILA, see its <a href="https://github.com/openintegrationhub/integration-layer-adapter">GitHub Repository</a></p> <h3 id="interaction-with-other-services"> <a href="#interaction-with-other-services" aria-labelledby="interaction-with-other-services" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Interaction with other Services </h3> <p>The Integration Layer Service interacts with this Service:</p> <ul> <li><a href="https://openintegrationhub.github.io//docs/Services/MetaDataRepository.html">Meta Data Repository</a>: If the user wants to validate an object against a schema from <a href="https://openintegrationhub.github.io//docs/Services/MetaDataRepository.html">Meta Data Repository</a>, this schema must be fetched. For this purpose a bearer<code class="language-plaintext highlighter-rouge">token</code>, <code class="language-plaintext highlighter-rouge">domainId</code> and <code class="language-plaintext highlighter-rouge">schemaUri</code> must be provided.</li> </ul> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2020 <a href="https://cloudecosystem.org">Cloud Ecosystem e.V.</a></p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
