<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Dispatcher Service - Open Integration Hub</title> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Dispatcher Service | Open Integration Hub</title> <meta name="generator" content="Jekyll v4.1.1" /> <meta property="og:title" content="Dispatcher Service" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Open Source Integration Framework" /> <meta property="og:description" content="Open Source Integration Framework" /> <link rel="canonical" href="http://localhost:4000/docs/Services/DispatcherService.html" /> <meta property="og:url" content="http://localhost:4000/docs/Services/DispatcherService.html" /> <meta property="og:site_name" content="Open Integration Hub" /> <script type="application/ld+json"> {"headline":"Dispatcher Service","description":"Open Source Integration Framework","@type":"WebPage","url":"http://localhost:4000/docs/Services/DispatcherService.html","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> Open Integration Hub </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Getting%20Started/GettingStarted.html" class="nav-list-link">Getting Started</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/Getting%20Started/LocalInstallationGuide.html" class="nav-list-link">Local Installation</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Getting%20Started/GCPInstallationGuide.html" class="nav-list-link">GCP Installation</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Services/Services.html" class="nav-list-link">Services</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/AttachmentStorageService.html" class="nav-list-link">Attachment Storage Service</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/AuditLog.html" class="nav-list-link">Audit Log</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/ComponentOrchestrator.html" class="nav-list-link">Component Orchestrator</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/ComponentRepository.html" class="nav-list-link">Component Repository</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/ConflictManagement.html" class="nav-list-link">Conflict Management</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/DataHub.html" class="nav-list-link">Data Hub</a></li><li class="nav-list-item active"><a href="http://localhost:4000/docs/Services/DispatcherService.html" class="nav-list-link active">Dispatcher Service</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/FlowRepository.html" class="nav-list-link">Flow Repository</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/IdentityManagement.html" class="nav-list-link">Identity and Access Management</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/IntegrationLayerService.html" class="nav-list-link">Integration Layer Service</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/LoggingService.html" class="nav-list-link">Logging Service</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/MessageOrientedMiddleware.html" class="nav-list-link">Message Oriented Middleware</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/MetaDataRepository.html" class="nav-list-link">Meta Data Repository</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/Scheduler.html" class="nav-list-link">Scheduler</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/SecretService.html" class="nav-list-link">Secret Service</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/SnapshotsService.html" class="nav-list-link">Snapshots Service</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Services/Webhooks.html" class="nav-list-link">Webhooks</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Service%20Collaboration/ServiceCollaborationOverview.html" class="nav-list-link">Service Collaboration</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/Service%20Collaboration/serviceEvents.html" class="nav-list-link">Service Events</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Service%20Collaboration/updatePropagation.html" class="nav-list-link">Update Propagation</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/docs/API%20Reference/APIReferenceOverview.html" class="nav-list-link">API Reference Documentation</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Connectors/ConnectorBasics.html" class="nav-list-link">Connectors</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/Connectors/building-nodejs-component.html" class="nav-list-link">Development Example for Node.js</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Connectors/ActionsAndTriggers.html" class="nav-list-link">Actions and Triggers</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://localhost:4000/docs/Connectors/StandardizedActionsAndTriggers.html" class="nav-list-link">Standardized Examples</a> </li></ul></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Connectors/Transformer.html" class="nav-list-link">Transformer</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Data%20Models/DataModelBasics.html" class="nav-list-link">Master Data Models</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Data%20Models/Addresses/Address%20Model.html" class="nav-list-link">Addresses</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Data%20Models/Collaboration/Collaboration%20Model.html" class="nav-list-link">Collaboration</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Data%20Models/Documents/Document%20Model.html" class="nav-list-link">Documents</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Data%20Models/Products/Products%20Model.html" class="nav-list-link">Products</a><ul class="nav-list"></ul></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/docs/Contributing/ContributionGuidelines.html" class="nav-list-link">Contribution Guidelines</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Open Integration Hub" aria-label="Search Open Integration Hub" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/openintegrationhub" class="site-button" > Open Integration Hub on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/Services/Services.html">Services</a></li> <li class="breadcrumb-nav-list-item"><span>Dispatcher Service</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <!-- Description Guidelines Please note: Use the full links to reference other files or images! Relative links will not work under our theme settings. --> <!-- please choose the appropriate batch and delete/comment the others --> <p><img src="https://img.shields.io/badge/Status-Production-brightgreen.svg" alt="prod" /></p> <h1 id="dispatcher-service-"> <a href="#dispatcher-service-" aria-labelledby="dispatcher-service-" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Dispatcher Service</strong> <!-- make sure spelling is consistent with other sources and within this document --> </h1> <h2 id="introduction"> <a href="#introduction" aria-labelledby="introduction" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction </h2> <!-- 2 sentences: what does it do and how --> <p>The Dispatcher Service is responsible for routing messages between individual connector flows. This allows for the exchange of data in a centralized fashion via the Hub &amp; Spoke model.</p> <p><a href="http://dispatcher-service.openintegrationhub.com/api-docs/" class="btn fs-5 mb-4 mb-md-0">API Reference</a> <a href="https://github.com/openintegrationhub/openintegrationhub/tree/master/services/dispatcher-service" class="btn fs-5 mb-4 mb-md-0">Implementation</a> <!-- [Service File](){: .btn .fs-5 .mb-4 .mb-md-0 } --></p> <h2 id="technologies-used"> <a href="#technologies-used" aria-labelledby="technologies-used" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Technologies used </h2> <!-- please name and elaborate on other technologies or standards the service uses --> <p><a href="https://www.mongodb.com/">MongoDB</a>: MongoDB is used as the Dispatcher Service’s storage solution.</p> <h2 id="how-it-works"> <a href="#how-it-works" aria-labelledby="how-it-works" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How it works </h2> <!-- describe core functionalities and underlying concepts in more detail --> <h3 id="dispatch-configurations"> <a href="#dispatch-configurations" aria-labelledby="dispatch-configurations" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Dispatch Configurations. </h3> <p>The Dispatcher Service works on the basis of <em>Configurations</em>. Each configuration contains a list of connected applications, each of which may have one or several outbound (application-to-OIH) and inbound (OIH-to-application) connections. These connections are distinguished based on the data schema and operation (i.e. create/update/delete) they use.</p> <p>Once such a configuration has been saved, the Dispatcher Service independently monitors incoming data from the listed outbound connections. Whenever a piece of data from one of these connections is successfully processed by the Data Hub, the Dispatcher Service then checks the configuration for any apps with matching inbound connections. To qualify, both the operation and data schema of the inbound connection must match that of the new data. For example, a piece of data in the “Organization” schema will not be routed to a connection configured to use the “Person” schema.</p> <h3 id="technological-background"> <a href="#technological-background" aria-labelledby="technological-background" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Technological Background </h3> <p>The Dispatcher Service functions on the basis of flows. However, instead of direct app-to-app connector flows, it uses app-to-OIH and OIH-to-app integration flows.</p> <p>Whenever a dispatch configuration is created or updated, the Dispatcher Service automatically creates a number of integration flows, one each for connection of each connected app. These flows connect to and from the Smart Data Framework using the SDF-Adapter. The Dispatcher Service automatically keeps stock and maintains these flows. If an inbound flow is inactive when data for it comes in, it will automatically be started. If a configuration is deleted or an app removed, all associated flows are automatically deleted.</p> <p>Data handled in this manner is routed through the Message Oriented Middleware (MOM). Any time a new piece of data coming in from an outbound flow was successfully processed by the Data Hub, a message is published on the MOM containing both the actual data that was fetched from the app (the payload) as well as certain metadata denoting its source, schema, and so on.</p> <p>These messages are then received by the Dispatcher Service. Based on their metadata, the Dispatcher Service is able to identify the source of the data and find all appropriate consumers based on saved dispatch configurations. Each consumer has an associated integration flow, and the Dispatcher Service then sends a message with custom-tailored metadata (such as the recordUid that the target app can use to identify the data) to each of these flows using the MOM.</p> <p>Finally, these messages are received by instances of the SDF Adapter, which is the first node in each consuming integration flow. The SDF Adapter then passes on the payload of the message to the next node in line, at which point the data is treated just as in a regular connector flow, passing through a transformer and adapter and finally being passed on to the target application.</p> <h3 id="dispatcher-service-api"> <a href="#dispatcher-service-api" aria-labelledby="dispatcher-service-api" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Dispatcher Service API </h3> <p>The Dispatcher Service offers a REST API through which dispatch configurations can be created, modified, and deleted. To interact with this API, the user must supply a valid bearer token generated by the <a href="https://openintegrationhub.github.io//docs/Services/IdentityManagement.html">Identity Management</a>.</p> <h4 id="list-of-supported-methods-and-routes"> <a href="#list-of-supported-methods-and-routes" aria-labelledby="list-of-supported-methods-and-routes" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> List of supported Methods and Routes </h4> <hr /> <div class="table-wrapper"><table> <thead> <tr> <th>endpoint</th> <th style="text-align: center">method</th> <th>description</th> <th>comments</th> </tr> </thead> <tbody> <tr> <td>/dispatches</td> <td style="text-align: center">GET</td> <td>Returns a list of all dispatch configurations available to the user</td> <td>Currently, all configurations are shared by tenant</td> </tr> <tr> <td>/dispatches</td> <td style="text-align: center">POST</td> <td>Stores a new dispatch configuration</td> <td>Automatically creates all integration flows for this configuration</td> </tr> <tr> <td>/dispatches/{id}</td> <td style="text-align: center">GET</td> <td>Returns one particular dispatch configuration by its ID</td> <td> </td> </tr> <tr> <td>/dispatches/{id}</td> <td style="text-align: center">DELETE</td> <td>Deletes a dispatch configuration</td> <td>Automatically deletes all associated flows</td> </tr> <tr> <td>/dispatches/{id}/app</td> <td style="text-align: center">PUT</td> <td>Adds a new application to a dispatch configuration</td> <td>Automatically creates all integration flows for the app</td> </tr> <tr> <td>/dispatches/{id}/app/{appId}</td> <td style="text-align: center">DELETE</td> <td>Deletes one application from the dispatch configuration</td> <td>Automatically deletes the app’s associated integration flows</td> </tr> </tbody> </table></div> <p>For further details and examples, please refer to the <a href="http://dispatcher-service.openintegrationhub.com/api-docs/">API Reference</a></p> <h3 id="interaction-with-other-services-and-components"> <a href="#interaction-with-other-services-and-components" aria-labelledby="interaction-with-other-services-and-components" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Interaction with other Services and Components </h3> <p>The Dispatcher Service interacts with these Services:</p> <ul> <li> <p><a href="https://openintegrationhub.github.io//docs/Services/IdentityManagement.html">Identity Management</a>: The Dispatcher Service relies on a bearer token supplied by the Identity Management to determine which dispatch configurations the current user may see.</p> </li> <li> <p><a href="https://openintegrationhub.github.io//docs/Services/MessageOrientedMiddleware.html">Message Oriented Middleware</a>: The Dispatcher Service receives and routes all incoming data through the Message Oriented Middleware.</p> </li> <li> <p><a href="https://openintegrationhub.github.io//docs/Services/FlowRepository.html">Flow Repository</a>: The Dispatcher Service communicates with the Flow Repository to create, delete, and start all integration flows necessary for a dispatch configuration.</p> </li> </ul> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2020 <a href="https://cloudecosystem.org">Cloud Ecosystem e.V.</a></p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
